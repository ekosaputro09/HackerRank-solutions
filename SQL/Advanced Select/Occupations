SET @d=0, @p=0, @s=0, @a=0 ;
SELECT MIN(DOCTOR), MIN(PROFESSOR), MIN(SINGER), MIN(ACTOR)
FROM
(SELECT IF(OCCUPATION = 'Doctor', NAME, NULL) AS DOCTOR,
        IF(OCCUPATION = 'Professor', NAME, NULL) AS PROFESSOR,
        IF(OCCUPATION = 'Singer', NAME, NULL) AS SINGER,
        IF(OCCUPATION = 'Actor', NAME, NULL) AS ACTOR,
 CASE OCCUPATION
    WHEN 'Doctor' THEN @d:=@d+1
    WHEN 'Professor' THEN @p:=@p+1
    WHEN 'Singer' THEN @s:=@s+1
    WHEN 'Actor' THEN @a:=@a+1
 END
AS IDN FROM OCCUPATIONS ORDER BY NAME)
AS TEMP GROUP BY TEMP.IDN ;
